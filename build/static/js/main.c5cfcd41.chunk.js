(this["webpackJsonpavais-dev"]=this["webpackJsonpavais-dev"]||[]).push([[0],{126:function(e,t,a){e.exports=a(245)},131:function(e,t,a){},244:function(e,t,a){e.exports=a.p+"static/media/background.40ec889e.png"},245:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),c=a.n(o),i=(a(131),a(67)),l=a(33),s=a(118),u=a(117),m=(a(56),a(36),a(9)),d=a(299),f=a(292),b=a(111),g=a.n(b).a.initializeApp({apiKey:"AIzaSyCwZMjeAJozr_csH5dA4rP1-dKi7Sn6ymU",authDomain:"authentication-1c4c2.firebaseapp.com",databaseURL:"https://authentication-1c4c2.firebaseio.com",projectId:"authentication-1c4c2",storageBucket:"authentication-1c4c2.appspot.com",messagingSenderId:"517700089892",appId:"1:517700089892:web:4d1cc5c977317493db80b1",measurementId:"G-DJPZDRH33F"}),p=a(18),v=a(288),E=a(249),h=a(296),y=a(289),O=a(286),j=a(298),C=a(293),S=a(290),k=a(291),w=a(23),x=a.n(w),T=a(13),A=a(46),D=function(e){var t=Object(p.b)(),a=r.a.useState(""),o=Object(m.a)(a,2),c=o[0],i=o[1],l=r.a.useState(""),s=Object(m.a)(l,2),u=s[0],b=s[1],w=r.a.useState([]),D=Object(m.a)(w,2),F=D[0],I=D[1],R=Object(p.c)((function(e){var t;return null===(t=e.questions.categories)||void 0===t?void 0:t.map((function(e){return e.name}))})),q=r.a.useState(""),B=Object(m.a)(q,2),N=B[0],Q=B[1],_=r.a.useState(!1),z=Object(m.a)(_,2),W=z[0],L=z[1],P=r.a.useState(!1),U=Object(m.a)(P,2),G=U[0],Y=U[1],H=function(){var e;t((e={value:c,options:F,locked:W,imageOptions:G},function(){var t=Object(A.a)(x.a.mark((function t(a){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,g.database().ref("Questions").push(e).then((function(t){var r=[];g.database().ref("Questions").child(t.key).once("value",(function(o){n=Object(T.a)(Object(T.a)({},o.val()),{},{id:t.key}),e.imageOptions&&(g.database().ref("Questions/"+t.key+"/options"),e.options.map(function(){var e=Object(A.a)(x.a.mark((function e(a,n){var o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=g.storage().ref("Questions/"+t.key+"/options/"+a.id).put(a.statement),e.next=3,o.on("state_changed",(function(e){}),(function(e){}),(function(){o.snapshot.ref.getDownloadURL().then((function(e){console.log("File available at",e),g.database().ref("Questions/"+t.key+"/options/"+(a.id-1)+"/statement").set(e),console.log(n,e),r.push(Object(T.a)(Object(T.a)({},a),{},{statement:e}))}))}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())),n=Object(T.a)(Object(T.a)({},n),{},{options:r}),console.log(n),a({type:"ADD_QUESTION",question:{storedQuestion:n}})}),(function(e){console.log("The read failed: "+e.code)})),g.database().ref("Questions").child(t.key)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),i(""),I([]),L(!1),b(""),Q(""),L(!1),Y(!1)},J=function(e,t){switch(e){case"question":return void i(t.target.value);case"option":return void Q(t.target.value);case"category":return void b(t.target.value);case"options":return console.log(c,F),F.push({id:F.length+1,statement:N,category:u}),Q(""),void b("");case"image":return void Q(t.target.files[0]);default:return}};return Object(n.useEffect)((function(){t(function(){var e=Object(A.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.database().ref("Categories").on("value",(function(e){var a=e.val(),n=[];for(var r in a)n.push(Object(T.a)({id:r},a[r]));t({type:"FETCH_CATEGORIES",categories:n})}),(function(e){console.log("The read failed: "+e.code)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t]),r.a.createElement("div",{className:"App"},r.a.createElement(v.a,null,r.a.createElement(E.a,{style:{fontSize:20,fontFamily:"Roboto",marginBottom:10}},"Add Question"),r.a.createElement(E.a,null,r.a.createElement(h.a,{id:"standard-multiline-flexible",label:"Question statement here",multiline:!0,fullWidth:!0,value:c,onChange:function(e){return J("question",e)},variant:"outlined"})),F.map((function(e){return r.a.createElement(E.a,{key:e.id},r.a.createElement(y.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:3},r.a.createElement(y.a,{item:!0,xs:12,md:9},r.a.createElement(h.a,{id:"standard-multiline-flexible",label:"Option statement here",disabled:!0,multiline:!0,fullWidth:!0,value:e.statement,variant:"outlined"})),r.a.createElement(y.a,{item:!0,xs:10,md:2},r.a.createElement(O.a,{disabled:!0,variant:"outlined",fullWidth:!0},r.a.createElement(j.a,null,"Category"),r.a.createElement(C.a,{value:e.category,onChange:function(e){return J("category",e)},label:"Category"},r.a.createElement(S.a,{value:""},r.a.createElement("em",null,"None")),R.map((function(e){return r.a.createElement(S.a,{value:e},e)}))))),r.a.createElement(y.a,{item:!0,md:1,xs:2},r.a.createElement(k.a,{variant:"contained",color:"secondary",onClick:function(){return t=e.id,void I(F.filter((function(e){return e.id!==t})));var t}},"Delete"))))})),c&&r.a.createElement(E.a,{style:{justifyContent:"space-between"}},r.a.createElement(y.a,{container:!0,direction:"row",alignItems:"center",spacing:3},r.a.createElement(y.a,{item:!0,md:8,xs:12},G?r.a.createElement("input",{type:"file",accept:"image/*",capture:"camera",id:"cameraInput",onChange:function(e){return J("image",e)}}):r.a.createElement(h.a,{id:"standard-multiline-flexible",label:"Option statement here",multiline:!0,fullWidth:!0,value:N,onChange:function(e){return J("option",e)},variant:"outlined"})),r.a.createElement(y.a,{item:!0,md:2,xs:8},r.a.createElement(O.a,{variant:"outlined",fullWidth:!0},r.a.createElement(j.a,{id:"demo-simple-select-outlined-label"},"Category"),r.a.createElement(C.a,{value:u,onChange:function(e){return J("category",e)},label:"Category"},r.a.createElement(S.a,{value:""},r.a.createElement("em",null,"None")),R.map((function(e){return r.a.createElement(S.a,{value:e},e)}))))),r.a.createElement(y.a,{item:!0,md:2,xs:4},r.a.createElement(k.a,{fullWidth:!0,variant:"contained",color:"primary",disabled:!N&&!u&&!0,onClick:function(e){return J("options",e)}},"Add Option")))),r.a.createElement(E.a,{style:{justifyContent:"space-between"}},r.a.createElement(d.a,{value:!0,control:r.a.createElement(f.a,{color:"primary",checked:W,onChange:function(){L((function(e){return!e}))}}),label:"Locked",labelPlacement:"Locked"}),r.a.createElement(d.a,{value:!0,control:r.a.createElement(f.a,{color:"primary",checked:G,onChange:function(){!F.length&&Y((function(e){return!e}))}}),label:"Image Options",labelPlacement:"Image Options"}),r.a.createElement(k.a,{variant:"contained",color:"primary",disabled:!W,onClick:function(){return H()}},"Submit Question"))))},F=a(300),I=function(e){var t=Object(p.b)(),a=r.a.useState(""),n=Object(m.a)(a,2),o=n[0],c=n[1],i=r.a.useState(""),l=Object(m.a)(i,2),s=l[0],u=l[1],b=r.a.useState(),y=Object(m.a)(b,2),O=y[0],j=y[1],C=r.a.useState(!1),S=Object(m.a)(C,2),w=S[0],D=S[1],I=Object(p.c)((function(e){return e.questions.categories.map((function(e){return e.name}))})),R=function(){var e;t((e={name:o,heading:s,description:O,locked:w},function(){var t=Object(A.a)(x.a.mark((function t(a){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,g.database().ref("Categories").push(e).then((function(e){g.database().ref("Categories").child(e.key).on("value",(function(t){n=Object(T.a)(Object(T.a)({},t.val()),{},{id:e.key}),a({type:"ADD_CATEGORY",category:n})}),(function(e){console.log("The read failed: "+e.code)}))}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),c(""),u(""),j(""),D(!1)},q=function(e,t){switch(e){case"name":return void c(t.target.value);case"heading":return void u(t.target.value);case"description":return void j(t.target.value);default:return}};return r.a.createElement("div",{className:"App"},r.a.createElement(v.a,null,r.a.createElement(E.a,{style:{fontSize:20,fontFamily:"Roboto",marginBottom:10}},"Add Category"),r.a.createElement(E.a,null,r.a.createElement(h.a,{id:"standard-multiline-flexible",label:"Category statement here",multiline:!0,fullWidth:!0,value:o,onChange:function(e){return q("name",e)},variant:"outlined"})),r.a.createElement(E.a,null,r.a.createElement(h.a,{id:"standard-multiline-flexible",label:"Category statement here",multiline:!0,fullWidth:!0,value:s,onChange:function(e){return q("heading",e)},variant:"outlined"})),r.a.createElement(E.a,null,r.a.createElement(h.a,{id:"standard-multiline-flexible",label:"Category statement here",multiline:!0,fullWidth:!0,value:O,onChange:function(e){return q("description",e)},variant:"outlined"})),r.a.createElement(E.a,{style:{justifyContent:"space-between"}},r.a.createElement(d.a,{value:!0,control:r.a.createElement(f.a,{color:"primary",checked:w,onChange:function(){D((function(e){return!e}))}}),label:"Locked",labelPlacement:"Locked"}),r.a.createElement(k.a,{variant:"contained",color:"primary",disabled:!w,onClick:function(){return R()}},"Submit Category"))),r.a.createElement("div",null,I.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(F.a,{label:e.name,onDelete:"React"===e.label?void 0:function(){}}))}))))},R=function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],o=t[1];return r.a.createElement("div",{style:{height:"100vh"}}," ",r.a.createElement(d.a,{value:!0,control:r.a.createElement(f.a,{color:"primary",checked:a,onChange:function(){o((function(e){return!e}))}}),label:a?"Switch to add Questions":"Switch to add Categories"}),a?r.a.createElement(I,null):r.a.createElement(D,null))},q=a(17),B=a(19),N=a(295),Q=a(294),_=a(287),z=a(72),W=a(77),L=function(e){var t=Object(p.c)((function(e){return e.questions.questions.filter((function(e){return e.locked}))})),a=Object(n.useState)(""),o=Object(m.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(""),s=Object(m.a)(l,2),u=s[0],f=s[1],b=Object(n.useState)([]),j=Object(m.a)(b,2),C=j[0],S=j[1],w=Object(n.useState)(0),D=Object(m.a)(w,2),F=D[0],I=D[1],R=Object(n.useState)(!1),L=Object(m.a)(R,2),P=L[0],U=L[1],G=Object(n.useState)([]),Y=Object(m.a)(G,2),H=Y[0],J=Y[1],M=Object(p.b)(),K=function(){M(function(e,t){return function(){var a=Object(A.a)(x.a.mark((function a(n,r){var o,c,i,l,s,u;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(c in o=[],t)i=Object.keys(t[c])[0],l=t[c][i],console.log(l),o[l]=(o[l]||0)+1;for(u in s=[],o)o[u]=100*o[u]/t.length,s.push({key:u,value:o[u]});return console.group("perce",s),a.next=7,g.database().ref("Results").push({user:e,result:s}).then((function(e){g.database().ref("Results").child(e.key).on("value",(function(t){var a,o,c=Object(T.a)(Object(T.a)({},t.val()),{},{id:e.key});(console.log(c.result),n({type:"ADD_PERCENTILES",percentiles:c.result}),c.result.length)&&(a=null===(o=c.result)||void 0===o?void 0:o.reduce((function(e,t){return e.value>t.value?e:t})),console.log("max",a),g.database().ref("Categories").orderByChild("name").equalTo(a.key).once("value",(function(e){e.forEach((function(e){n({type:"SET_PERSONALITY_CATEGORY",category:e.val()})}))})));fetch("http://localhost:3001/send",{method:"POST",body:JSON.stringify(r.category),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){"success"===e.status?alert("Message Sent."):"fail"===e.status&&alert("Message failed to send.")}))}),(function(e){console.log("The read failed: "+e.code)}))}));case 7:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}(c,H))},Z=function(e,a){console.log(e,a),S([].concat(Object(B.a)(C),[Object(q.a)({},e,a.statement)])),J([].concat(Object(B.a)(H),[Object(q.a)({},e,a.category)])),F<t.length-1?I(F+1):U(!0)};return Object(n.useEffect)((function(){M(function(){var e=Object(A.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,g.database().ref("Questions").on("value",(function(e){console.log(e.val());var a=e.val(),n=[];for(var r in a)n.push(Object(T.a)({id:r},a[r]));t({type:"FETCH_QUESTIONS",questions:n})}),(function(e){console.log("The read failed: "+e.code)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[M]),r.a.createElement("div",{style:{height:"70vh"}},r.a.createElement("img",{style:{height:40,position:"absolute",top:0,left:0,margin:"5%"},src:W}),c?r.a.createElement("div",{style:{flex:1,flexDirection:"row",margin:10,marginTop:50}},r.a.createElement(v.a,{style:{fontFamily:"Roboto",fontSize:20}},r.a.createElement(E.a,{style:{fontSize:40,fontFamily:"Droid Sans"}},"Sp\xf8rgsm\xe5l / Beskrivelse"),t.map((function(e,a){var n,o,c;return a===F&&r.a.createElement("div",null,r.a.createElement(E.a,{style:{marginTop:20,marginBottom:20,color:"gray"}},e.value),r.a.createElement(y.a,{container:!0,direction:"row",justify:"space-between",spacing:3},r.a.createElement(y.a,{item:!0,xs:6,style:{textAlign:"left"}},!e.imageOptions&&r.a.createElement(O.a,{component:"fieldset"},r.a.createElement(N.a,{value:C[e.id],onChange:function(a){var n=e.options.filter((function(e){return e.statement===a.target.value}));console.log(n),function(e,a,n){S([].concat(Object(B.a)(C),[Object(q.a)({},e,a.target.value)])),J([].concat(Object(B.a)(H),[Object(q.a)({},e,n[0].category)])),F<t.length+1?I(F+1):U(!0)}(e.id,a,n)}},null===(n=e.options)||void 0===n?void 0:n.map((function(e){return r.a.createElement(d.a,{value:e.statement,control:r.a.createElement(Q.a,null),label:e.statement})})))))," ",r.a.createElement(y.a,{item:!0,xs:6},e.imageOptions&&r.a.createElement("div",{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"flex-end"}},r.a.createElement("div",{style:{position:"relative",height:300,width:500,backgroundColor:"rgb(238,186,190)"}},r.a.createElement(v.a,{style:{position:"absolute",top:-40,left:-40,height:300,width:500}},r.a.createElement(y.a,{container:!0,direction:"row",justify:"space-between",alignItems:"flex-start",spacing:3},null===(o=e.options)||void 0===o?void 0:o.map((function(t){return r.a.createElement(y.a,{item:!0,xs:4,style:{textAlign:"left"}},r.a.createElement(E.a,{button:!0,onClick:function(){return Z(e.id,t)}},r.a.createElement("img",{style:{height:120,width:100},src:t.statement})))})),null===(c=e.options)||void 0===c?void 0:c.map((function(t){return r.a.createElement(y.a,{item:!0,xs:4,style:{textAlign:"left"}},r.a.createElement(E.a,{button:!0,obutton:!0,key:t.statement,onClick:function(){return Z(e.id,t)}},r.a.createElement("img",{style:{height:120,width:100},src:t.statement})))})))))))))}))),r.a.createElement(z.b,{to:"/result",style:{textDecoration:"none"}},r.a.createElement(k.a,{variant:"contained",color:"secondary",style:{marginTop:20},disabled:!P,onClick:function(){return K()}},"indsend quiz"))):r.a.createElement(_.a,{elevation:3,style:{margin:200,marginTop:50,marginBottom:50,padding:50}},r.a.createElement("div",{style:{flexDirection:"column",flex:1,marginBottom:50}},r.a.createElement(h.a,{label:"Email",value:u,id:"outlined-margin-dense",margin:"dense",variant:"outlined",onChange:function(e){return function(e){f(e.target.value)}(e)},style:{}}))," ",r.a.createElement(k.a,{variant:"contained",color:"primary",disabled:!u,onClick:function(){i(u)}},"Start Quiz")))},P=a(114),U=(a(77),function(e){var t=Object(p.c)((function(e){return e.questions.percentiles})),o=Object(p.c)((function(e){return e.questions.category})),c={datasets:[{data:[10,20,30],backgroundColor:["#FF6384","#36A2EB","#FFCE56"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56"]}],labels:["Red","Yellow","Blue"]},i=Object(p.c)((function(e){return{datasets:[{data:e.questions.percentiles.map((function(e){return e.value})),backgroundColor:["#FF6384","#36A2EB"],hoverBackgroundColor:["#FF6384","#36A2EB"]}],labels:e.questions.percentiles.map((function(e){return e.key}))}})),l=Object(n.useState)(!1),s=Object(m.a)(l,2),u=(s[0],s[1],Object(n.useState)()),d=Object(m.a)(u,2),f=(d[0],d[1],Object(p.b)());Object(n.useEffect)((function(){for(var e in c.datasets.data=[],t)c.datasets.data=t[e],c.labels=e}),[f]);return r.a.createElement("div",{style:{backgroundImage:"url(".concat(a(244),")"),backgroundRepeat:"no-repeat",width:"100%",height:"100%",color:"white",backgroundSize:"cover"}}," ",r.a.createElement(y.a,{container:!0,direction:"row",justify:"space-between",style:{padding:80},alignItems:"center",spacing:3},r.a.createElement(y.a,{item:!0,xs:5,className:"bg-box",style:{padding:30}},r.a.createElement(v.a,{style:{fontFamily:"Roboto",fontSize:20,color:"rgb(86,84,84)"}},r.a.createElement("div",{className:"App"},r.a.createElement(E.a,{justify:"center",style:{fontSize:40,fontFamily:"Droid Sans",alignSelf:"center",fontWeight:"bold"}},"Din Stultype er"))),r.a.createElement(P.a,{data:i,style:{margin:50},options:{maintainAspectRatio:!1}}))," ",r.a.createElement(y.a,{item:!0,xs:6,className:"bg-box",style:{padding:30}},r.a.createElement(v.a,{style:{fontFamily:"Roboto",fontSize:20,color:"rgb(86,84,84)"}},r.a.createElement(E.a,{style:{fontSize:40,fontFamily:"Droid Sans",alignSelf:"center",fontWeight:"bold"}},null===o||void 0===o?void 0:o.name),r.a.createElement(E.a,{style:{marginTop:20,marginBottom:20,color:"gray"}},null===o||void 0===o?void 0:o.description)))," "),r.a.createElement("img",{style:{height:100},src:a(77)}))}),G=a(15),Y=a(42),H=a(116),J=Object(Y.c)({questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{questions:[],page:"quiz",categories:[],percentiles:[],category:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_QUESTION":return{questions:[].concat(Object(B.a)(e.questions),[Object(q.a)({},t.question.id,t.question)])};case"FETCH_QUESTIONS":return Object(T.a)(Object(T.a)({},e),{},{questions:t.questions});case"ADD_PERCENTILES":return Object(T.a)(Object(T.a)({},e),{},{percentiles:t.percentiles});case"SET_USER":return Object(T.a)(Object(T.a)({},e),{},{user:t.user});case"ADD_CATEGORY":return console.log(t.category),Object(T.a)(Object(T.a)({},e),{},{categories:[].concat(Object(B.a)(e.categories),[t.category])});case"FETCH_CATEGORIES":return console.log(t.categories),Object(T.a)(Object(T.a)({},e),{},{categories:t.categories});case"SET_PERSONALITY_CATEGORY":return Object(T.a)(Object(T.a)({},e),{},{category:t.category});default:return e}}}),M=Object(Y.d)(J,Object(Y.a)(H.a)),K=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(p.a,{store:M},r.a.createElement(z.a,null,r.a.createElement(G.c,null,r.a.createElement("div",{className:"App"},r.a.createElement(G.a,{exact:!0,path:"/"},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"two"},r.a.createElement(L,null)))),r.a.createElement(G.a,{path:"/dashboard"},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"two"},r.a.createElement(R,null)))),r.a.createElement(G.a,{path:"/result"},r.a.createElement(U,null)))," ")))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},36:function(e,t,a){},56:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},77:function(e,t,a){e.exports=a.p+"static/media/logo.b17aba02.png"}},[[126,1,2]]]);
//# sourceMappingURL=main.c5cfcd41.chunk.js.map